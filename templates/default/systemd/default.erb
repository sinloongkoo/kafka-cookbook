[Unit]
Description=<%= @daemon_name %> daemon

[Service]
User=<%= @user %>
EnvironmentFile=<%= @env_path %>
ExecStart=/bin/bash $KAFKA_RUN $KAFKA_ARGS $KAFKA_CONFIG
ExecStartPost=<%= ::File.join(@scripts_dir, 'post-start') %> --pid=$MAINPID
ExecStop=<%= ::File.join(@scripts_dir, 'stop') %> --pid=$MAINPID
<% if @ulimit %>
LimitNOFILE=<%= @ulimit %>
<% end %>

[Install]
WantedBy=multi-user.target
